Make Server Test more comprehensive

Test all possible scenarios for server decryption, including:

- [ ] Full Encryption - Decryption Roundtrip
- [ ] If Rotation is correctly handled
- [ ] if Decrypt works correctly during rotation
- [ ] If History works correctly

Next, Create Integration Tests

Realistic Client -> Server Encryption/Decryption Scenarios
